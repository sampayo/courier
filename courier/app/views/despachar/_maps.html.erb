<html>
	<body onload="initialize()">
		<div id="contentdir">

			<div class="entry" >
				<div id="map_canvas" style="width:100%; height:300px">
				</div>
			</div>
		</div>
	</body>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
	<script type="text/javascript">

		var map;
		var posicion;

		function initialize() {
		var myLatlng = new google.maps.LatLng(10.5,-66.91667);
		var myOptions = {
		zoom: 12,
		center: myLatlng,
		mapTypeId: google.maps.MapTypeId.ROADMAP
		}
		map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		marca( <%= @orden.lat.to_s + ',' + @orden.lng.to_s %>,"<%= @orden.id.to_s  %>" )
			}

			function marca(lat,lng,ciudad) {
				var myLatlng = new google.maps.LatLng(lat,lng);
				var marker = new google.maps.Marker({
					position: myLatlng,
					map: map,
					title: ciudad
				});

				var infowindow = new google.maps.InfoWindow({
					content: '<div id="InfoWindow"><h3>orden #' + ciudad + '</h3></div>',
					size: new google.maps.Size(50,50)
				});

				google.maps.event.addListener(marker, 'click', function() {
					infowindow.open(map,marker);
				});
				map.setCenter(myLatlng);
			}
	</script>
</html>
